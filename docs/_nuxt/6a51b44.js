(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{525:function(e,t){e.exports={e18:BigInt(1+"0".repeat(18)),e36:BigInt(1+"0".repeat(36)),e34:BigInt(1+"0".repeat(34)),e14:BigInt(1+"0".repeat(14)),floatEtherToWei:e=>BigInt(Math.round(1e10*e))*BigInt(1e8)}},544:function(e,t,o){"use strict";o.r(t);var r=o(525),n={name:"Erc20Creator",data:()=>({form:{name:"",symbol:"",decimals:18,allowMinting:[],allowBurning:["burn"],setCap:[],includeDecimals:["decimals"],startingSupply:1e6,maximumSupply:1e6,extra:""},fee:0,show:!0,button:{busy:!1,message:null}}),computed:{inputSymbol(){return this.form.symbol.toUpperCase()||"Token"}},created(){this.$web3.contracts.tokenRegistry().methods.fee().call().then((e=>{this.fee=parseFloat(BigInt(e)/r.e14)/1e4})).catch((e=>{this.fee="Value fetch error",this.$bvToast.toast(e.message||e,{title:"Error determining fee",autoHideDelay:5e3,appendToast:!0,variant:"danger"})}))},methods:{increaseMaxSupply(){const e=this.form;e.maximumSupply<e.startingSupply&&(e.maximumSupply=e.startingSupply)},onSubmit(e){this.button.busy=!0,this.button.message="Submitting Tx .. ";const form=this.form;try{let e;this.form.allowMinting&&(e=this.form.maximumSupply);const{name:t,symbol:symbol,decimals:o,startingSupply:r}=this.form;return this.$web3.contracts.tokenRegistry().methods.fee().call().then((n=>this.$web3.deployToken(t,symbol,o,r,e,0!==form.allowBurning.length,0!==form.allowMinting.length,0!==form.setCap.length).send({value:n}).on("transactionHash",(e=>{this.$bvToast.toast("TxHash: "+e.substr(0,15)+"...",{title:"Tx Submited",autoHideDelay:5e3,appendToast:!0,variant:"info"}),this.button.message="Waiting Tx Confirmation .. "})).then((e=>{const t=e.events.TokenCreated.returnValues.tokenContract;return console.log("New Token deployed: ",t),this.$router.push({path:"token",query:{address:t}})})))).catch((e=>{this.$bvToast.toast(this.$web3.renderError(e),{title:"Tx Submit",autoHideDelay:5e3,appendToast:!0,variant:"danger"})})).finally((()=>{this.button.busy=!1,this.button.message=null}))}catch(e){console.log(e),this.button.busy=!1,this.button.message=null}},onReset(e){e.preventDefault(),this.form.email="",this.form.name="",this.form.food=null,this.show=!1,this.$nextTick((()=>{this.show=!0}))}}},l=o(35),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("div",{staticClass:"my-2  text-muted h2 text-center"},[e._v(" Create BEP20 Token")]),e._v(" "),e.show?o("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)},reset:e.onReset}},[o("b-form-group",{attrs:{id:"input-group-1",label:"Token Name","label-for":"input-1"}},[o("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"Token Name",required:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("b-form-group",{attrs:{id:"input-group-2",label:"Symbol:","label-for":"input-2"}},[o("b-form-input",{attrs:{id:"input-2",placeholder:"Usually 3-5 characters long ",required:""},model:{value:e.form.symbol,callback:function(t){e.$set(e.form,"symbol",t)},expression:"form.symbol"}})],1),e._v(" "),o("b-form-group",{attrs:{id:"input-group-4"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.ariaDescribedby;return[o("b-form-checkbox-group",{attrs:{id:"checkboxes-2","aria-describedby":r},on:{change:function(t){e.form.decimals=18}},model:{value:e.form.includeDecimals,callback:function(t){e.$set(e.form,"includeDecimals",t)},expression:"form.includeDecimals"}},[o("b-form-checkbox",{attrs:{value:"decimals"}},[e._v("Support decimal value")])],1),e._v(" "),o("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{hidden:!e.form.includeDecimals[0],prepend:"No of decimals"}},[o("b-form-input",{attrs:{id:"input-3",type:"number",max:"18",min:"0",required:""},model:{value:e.form.decimals,callback:function(t){e.$set(e.form,"decimals",t)},expression:"form.decimals"}})],1)]}}],null,!1,450609945)}),e._v(" "),o("b-form-group",{attrs:{id:"input-group-2",label:"Initial Supply:","label-for":"input-4"}},[o("b-input-group",{attrs:{append:e.inputSymbol}},[o("b-form-input",{attrs:{id:"input-4",type:"number",placeholder:"Usually 3-5 characters long ",required:""},on:{change:e.increaseMaxSupply},model:{value:e.form.startingSupply,callback:function(t){e.$set(e.form,"startingSupply",t)},expression:"form.startingSupply"}})],1)],1),e._v(" "),o("b-form-group",{attrs:{"label-for":"input-x"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.ariaDescribedby;return[o("b-form-checkbox-group",{attrs:{id:"checkboxes-x","aria-describedby":r},model:{value:e.form.allowBurning,callback:function(t){e.$set(e.form,"allowBurning",t)},expression:"form.allowBurning"}},[o("b-form-checkbox",{attrs:{value:"burn"}},[e._v("Allow Burning")])],1)]}}],null,!1,3821219996)}),e._v(" "),o("b-form-group",{attrs:{id:"input-group-4"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.ariaDescribedby;return[o("b-form-checkbox-group",{attrs:{id:"checkboxes-4","aria-describedby":r},model:{value:e.form.allowMinting,callback:function(t){e.$set(e.form,"allowMinting",t)},expression:"form.allowMinting"}},[o("b-form-checkbox",{attrs:{value:"mint"}},[e._v("Enable Minting")])],1),e._v(" "),o("b-input-group",{staticClass:"mb-2 mt-2 mr-sm-2 mb-sm-0",attrs:{hidden:!e.form.allowMinting[0],prepend:"",append:e.inputSymbol}},[o("b-input-group-prepend",{attrs:{"is-text":""}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.setCap,expression:"form.setCap"}],attrs:{size:"xl",type:"checkbox",value:"capped","aria-label":"Checkbox for following text input"},domProps:{checked:Array.isArray(e.form.setCap)?e._i(e.form.setCap,"capped")>-1:e.form.setCap},on:{change:function(t){var o=e.form.setCap,r=t.target,n=!!r.checked;if(Array.isArray(o)){var l="capped",m=e._i(o,l);r.checked?m<0&&e.$set(e.form,"setCap",o.concat([l])):m>-1&&e.$set(e.form,"setCap",o.slice(0,m).concat(o.slice(m+1)))}else e.$set(e.form,"setCap",n)}}}),e._v(" "),o("span",{staticClass:"ml-2"},[e._v(" Set Cap")])]),e._v(" "),o("b-form-input",{attrs:{disabled:0===e.form.setCap.length,id:"input-3",type:"number",min:e.form.startingSupply},model:{value:e.form.maximumSupply,callback:function(t){e.$set(e.form,"maximumSupply",t)},expression:"form.maximumSupply"}})],1)]}}],null,!1,3906718912)}),e._v(" "),o("b-button",{attrs:{type:"submit",disabled:e.button.busy,variant:"primary"}},[e._v("\n      "+e._s(e.button.message?e.button.message:"Deploy "+e.form.symbol+" Token")+"\n    ")]),e._v(" "),o("span",{staticClass:"ml-4 user-select-none"},[o("span",{staticClass:"text-muted",staticStyle:{"font-size":"x-small"}},[o("strong",[e._v("Fee:")]),e._v(" "+e._s(e.fee)+" "+e._s(this.$store.getters["web3/network"].symbol))])])],1):e._e()],1)}),[],!1,null,"16ca9e4a",null);t.default=component.exports}}]);